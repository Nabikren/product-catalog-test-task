import C from"./DxlWTCFv.js";import M from"./CdmUVqsY.js";import D from"./B7KU8noN.js";import L from"./i30gL-sh.js";import T from"./CUfr7WFU.js";import j from"./vPqImfnf.js";import F from"./Ct-OQf3r.js";import w from"./DEJXHsuA.js";import{f as A,q as G,v as W,m as h,r as v,y as O,c as V,a as d,x as H,i as K,b as a,l as t,n as Q,w as n,o as g,B as X,d as y,t as Y,_ as Z}from"#entry";import{u as P}from"./BTRvYBxn.js";import{u as ee}from"./DvM57Kc5.js";import"./44lpdJwz.js";import"./BJ2ClxiI.js";import"./Cd8xZgT4.js";import"./cOAiAd2k.js";import"./DlraI2__.js";import"./5KMH74Ch.js";import"./CQHT0i2j.js";import"./CHOj1P8S.js";import"./CMV05MUf.js";const te={class:"product-edit"},oe={class:"product-edit__container"},le={class:"product-edit__header"},ae={class:"product-edit__breadcrumbs"},se={key:0,class:"product-edit__loading"},de={key:2,class:"product-edit__form-container"},ie={class:"product-edit__grid"},ne={class:"product-edit__section"},re={class:"product-edit__section-content"},ue={class:"product-edit__section"},ce={class:"product-edit__section-content"},pe={class:"product-edit__section"},me={class:"product-edit__section-content"},_e={class:"product-edit__actions"},fe=A({__name:"[id]-edit",setup(be){console.log("üü¢ –°–¢–ê–†–¢: –§–∞–π–ª [id].edit.vue –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è!"),console.log("üü¢ –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏:",new Date().toLocaleTimeString()),console.log("üü¢ URL:",window.location.href);const x=G(),U=W(),f=P(),_=h(()=>parseInt(x.params.id));console.log("üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è!"),console.log("üìç Product ID:",_.value),console.log("üîó Route params:",x.params);const{product:b,isLoading:k,hasError:S,error:z,updateProduct:B}=ee(_.value),i=v(!1),o=v({name:"",brand:"",description:"",price:0,category:"",sku:"",quantity:0,imageUrl:"",status:"",metadata:{}}),u=v(""),E=[{label:"–ê–∫—Ç–∏–≤–Ω—ã–π",value:"active"},{label:"–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π",value:"inactive"},{label:"–ó–∞–∫–æ–Ω—á–∏–ª—Å—è",value:"out_of_stock"},{label:"–û–∂–∏–¥–∞–µ—Ç—Å—è",value:"pending"}],J=h(()=>o.value.name.trim().length>0);O(b,(l,e)=>{if(console.log("üîÑ Watch product —Å—Ä–∞–±–æ—Ç–∞–ª!"),console.log("üîÑ –ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä:",l),console.log("üîÑ –°—Ç–∞—Ä—ã–π —Ç–æ–≤–∞—Ä:",e),console.log("üîÑ –ï—Å—Ç—å –ª–∏ —Ç–æ–≤–∞—Ä?",!!l),l){console.log("üìù –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã..."),o.value={name:l.name||"",brand:l.brand||"",description:l.description||"",price:l.price||0,category:l.category||"",sku:l.sku||"",quantity:l.quantity||0,imageUrl:l.imageUrl||"",status:l.status||"",metadata:l.metadata||{}};try{u.value=l.metadata?JSON.stringify(l.metadata,null,2):""}catch(c){u.value="",console.warn("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ metadata –≤ JSON:",c)}console.log("üìù –§–æ—Ä–º–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞:",o.value),console.log("üìù Metadata —Å—Ç—Ä–æ–∫–∞:",u.value)}else console.log("‚ö†Ô∏è –¢–æ–≤–∞—Ä –ø—É—Å—Ç–æ–π, —Ñ–æ—Ä–º–∞ –Ω–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è")},{immediate:!0}),O([k,S,z],([l,e,c])=>{console.log("üìä –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏:",{loading:l,hasError:e,error:c})});const I=async()=>{if(!o.value.name.trim()){f.add({title:"–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏",description:"–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è",color:"red"});return}try{i.value=!0;let l;try{l=u.value.trim()?JSON.parse(u.value):{}}catch{f.add({title:"–û—à–∏–±–∫–∞ –≤ JSON",description:"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON",color:"red"});return}const e={...o.value,price:o.value.price?Number(o.value.price):void 0,quantity:o.value.quantity?Number(o.value.quantity):void 0,metadata:l};Object.keys(e).forEach(p=>{(e[p]===null||e[p]===void 0||e[p]==="")&&delete e[p]}),console.log("üì§ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:",e);const c=await B(_.value,e);if(c.success)f.add({title:"–£—Å–ø–µ—à–Ω–æ!",description:"–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω",color:"green"}),await U.push(`/products/${_.value}`);else throw new Error(c.error||"–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞")}catch(l){console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:",l),f.add({title:"–û—à–∏–±–∫–∞",description:l instanceof Error?l.message:"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è",color:"red"})}finally{i.value=!1}};return(l,e)=>{const c=C,p=M,R=D,m=L,r=T,N=j,$=F,q=w;return g(),V("div",te,[d("div",oe,[d("div",le,[d("div",ae,[a(c,{links:[{label:"–ì–ª–∞–≤–Ω–∞—è",to:"/"},{label:"–ü—Ä–æ–¥—É–∫—Ç—ã",to:"/products"},{label:t(b)?.name||"–ó–∞–≥—Ä—É–∑–∫–∞...",to:`/products/${t(_)}`},{label:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"}]},null,8,["links"])]),e[11]||(e[11]=d("h1",{class:"product-edit__title"}," –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ ",-1)),e[12]||(e[12]=d("p",{class:"product-edit__subtitle"}," –ò–∑–º–µ–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ",-1))]),t(k)&&!t(b)?(g(),V("div",se,[a(p,{name:"heroicons:arrow-path",class:"animate-spin",size:"48"}),e[13]||(e[13]=d("p",{class:"product-edit__loading-text"},"–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–∞...",-1))])):t(S)?(g(),H(R,{key:1,icon:"heroicons:exclamation-triangle",color:"red",variant:"soft",title:t(z)||"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞","close-button":{icon:"heroicons:x-mark-20-solid",color:"red",variant:"link"},onClose:()=>{}},null,8,["title"])):t(b)?(g(),V("div",de,[d("form",{class:"product-edit__form",onSubmit:Q(I,["prevent"])},[d("div",ie,[d("div",ne,[e[14]||(e[14]=d("h2",{class:"product-edit__section-title"},"–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",-1)),d("div",re,[a(r,{label:"–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞",name:"name",required:"",class:"product-edit__field"},{default:n(()=>[a(m,{modelValue:t(o).name,"onUpdate:modelValue":e[0]||(e[0]=s=>t(o).name=s),placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞",size:"lg",disabled:t(i)},null,8,["modelValue","disabled"])]),_:1}),a(r,{label:"–ë—Ä–µ–Ω–¥",name:"brand",class:"product-edit__field"},{default:n(()=>[a(m,{modelValue:t(o).brand,"onUpdate:modelValue":e[1]||(e[1]=s=>t(o).brand=s),placeholder:"–í–≤–µ–¥–∏—Ç–µ –±—Ä–µ–Ω–¥",size:"lg",disabled:t(i)},null,8,["modelValue","disabled"])]),_:1}),a(r,{label:"–û–ø–∏—Å–∞–Ω–∏–µ",name:"description",class:"product-edit__field product-edit__field--full"},{default:n(()=>[a(N,{modelValue:t(o).description,"onUpdate:modelValue":e[2]||(e[2]=s=>t(o).description=s),placeholder:"–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞",rows:4,size:"lg",disabled:t(i)},null,8,["modelValue","disabled"])]),_:1})])]),d("div",ue,[e[17]||(e[17]=d("h2",{class:"product-edit__section-title"},"–¶–µ–Ω–∞ –∏ –Ω–∞–ª–∏—á–∏–µ",-1)),d("div",ce,[a(r,{label:"–¶–µ–Ω–∞",name:"price",class:"product-edit__field"},{default:n(()=>[a(m,{modelValue:t(o).price,"onUpdate:modelValue":e[3]||(e[3]=s=>t(o).price=s),modelModifiers:{number:!0},type:"number",placeholder:"0",size:"lg",disabled:t(i),min:"0",step:"0.01"},{trailing:n(()=>[...e[15]||(e[15]=[d("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"‚ÇΩ",-1)])]),_:1},8,["modelValue","disabled"])]),_:1}),a(r,{label:"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ",name:"quantity",class:"product-edit__field"},{default:n(()=>[a(m,{modelValue:t(o).quantity,"onUpdate:modelValue":e[4]||(e[4]=s=>t(o).quantity=s),modelModifiers:{number:!0},type:"number",placeholder:"0",size:"lg",disabled:t(i),min:"0"},{trailing:n(()=>[...e[16]||(e[16]=[d("span",{class:"text-gray-500 dark:text-gray-400 text-xs"},"—à—Ç.",-1)])]),_:1},8,["modelValue","disabled"])]),_:1}),a(r,{label:"–°—Ç–∞—Ç—É—Å",name:"status",class:"product-edit__field product-edit__field--full"},{default:n(()=>[a($,{modelValue:t(o).status,"onUpdate:modelValue":e[5]||(e[5]=s=>t(o).status=s),options:E,placeholder:"–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å",size:"lg",disabled:t(i)},null,8,["modelValue","disabled"])]),_:1})])]),d("div",pe,[e[19]||(e[19]=d("h2",{class:"product-edit__section-title"},"–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è",-1)),d("div",me,[a(r,{label:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è",name:"category",class:"product-edit__field"},{default:n(()=>[a(m,{modelValue:t(o).category,"onUpdate:modelValue":e[6]||(e[6]=s=>t(o).category=s),placeholder:"–í–≤–µ–¥–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é",size:"lg",disabled:t(i)},null,8,["modelValue","disabled"])]),_:1}),a(r,{label:"–ê—Ä—Ç–∏–∫—É–ª",name:"sku",class:"product-edit__field"},{default:n(()=>[a(m,{modelValue:t(o).sku,"onUpdate:modelValue":e[7]||(e[7]=s=>t(o).sku=s),placeholder:"–í–≤–µ–¥–∏—Ç–µ –∞—Ä—Ç–∏–∫—É–ª",size:"lg",disabled:t(i)},null,8,["modelValue","disabled"])]),_:1}),a(r,{label:"URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è",name:"imageUrl",class:"product-edit__field product-edit__field--full"},{default:n(()=>[a(m,{modelValue:t(o).imageUrl,"onUpdate:modelValue":e[8]||(e[8]=s=>t(o).imageUrl=s),placeholder:"https://example.com/image.jpg",size:"lg",disabled:t(i)},null,8,["modelValue","disabled"])]),_:1}),a(r,{label:"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (JSON)",name:"metadata",class:"product-edit__field product-edit__field--full"},{help:n(()=>[...e[18]||(e[18]=[y(" –í–≤–µ–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON ",-1)])]),default:n(()=>[a(N,{modelValue:t(u),"onUpdate:modelValue":e[9]||(e[9]=s=>X(u)?u.value=s:null),placeholder:'{"–∫–ª—é—á": "–∑–Ω–∞—á–µ–Ω–∏–µ", "—Ü–≤–µ—Ç": "–±–µ–ª—ã–π"}',rows:4,size:"lg",disabled:t(i)},null,8,["modelValue","disabled"])]),_:1})])])]),d("div",_e,[a(q,{type:"submit",size:"lg",loading:t(i),disabled:!t(J),class:"product-edit__submit"},{default:n(()=>[y(Y(t(i)?"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"),1)]),_:1},8,["loading","disabled"]),a(q,{type:"button",variant:"outline",size:"lg",disabled:t(i),onClick:e[10]||(e[10]=s=>t(U).push(`/products/${t(_)}`))},{default:n(()=>[...e[20]||(e[20]=[y(" –û—Ç–º–µ–Ω–∞ ",-1)])]),_:1},8,["disabled"])])],32)])):K("",!0)])])}}}),Me=Z(fe,[["__scopeId","data-v-cc45c1b0"]]);export{Me as default};
